(function(t){function e(e){for(var s,r,o=e[0],l=e[1],c=e[2],u=0,h=[];u<o.length;u++)r=o[u],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&h.push(n[r][0]),n[r]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);d&&d(e);while(h.length)h.shift()();return a.push.apply(a,c||[]),i()}function i(){for(var t,e=0;e<a.length;e++){for(var i=a[e],s=!0,r=1;r<i.length;r++){var o=i[r];0!==n[o]&&(s=!1)}s&&(a.splice(e--,1),t=l(l.s=i[0]))}return t}var s={},r={app:0},n={app:0},a=[];function o(t){return l.p+"js/"+({"admin~import":"admin~import",admin:"admin",import:"import"}[t]||t)+"."+{"admin~import":"de9950c4",admin:"6fac2bd3",import:"89c4c75d"}[t]+".js"}function l(e){if(s[e])return s[e].exports;var i=s[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,l),i.l=!0,i.exports}l.e=function(t){var e=[],i={admin:1,import:1};r[t]?e.push(r[t]):0!==r[t]&&i[t]&&e.push(r[t]=new Promise((function(e,i){for(var s="css/"+({"admin~import":"admin~import",admin:"admin",import:"import"}[t]||t)+"."+{"admin~import":"31d6cfe0",admin:"87b666b6",import:"c2f52453"}[t]+".css",n=l.p+s,a=document.getElementsByTagName("link"),o=0;o<a.length;o++){var c=a[o],u=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(u===s||u===n))return e()}var h=document.getElementsByTagName("style");for(o=0;o<h.length;o++){c=h[o],u=c.getAttribute("data-href");if(u===s||u===n)return e()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=e,d.onerror=function(e){var s=e&&e.target&&e.target.src||n,a=new Error("Loading CSS chunk "+t+" failed.\n("+s+")");a.code="CSS_CHUNK_LOAD_FAILED",a.request=s,delete r[t],d.parentNode.removeChild(d),i(a)},d.href=n;var m=document.getElementsByTagName("head")[0];m.appendChild(d)})).then((function(){r[t]=0})));var s=n[t];if(0!==s)if(s)e.push(s[2]);else{var a=new Promise((function(e,i){s=n[t]=[e,i]}));e.push(s[2]=a);var c,u=document.createElement("script");u.charset="utf-8",u.timeout=120,l.nc&&u.setAttribute("nonce",l.nc),u.src=o(t);var h=new Error;c=function(e){u.onerror=u.onload=null,clearTimeout(d);var i=n[t];if(0!==i){if(i){var s=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;h.message="Loading chunk "+t+" failed.\n("+s+": "+r+")",h.name="ChunkLoadError",h.type=s,h.request=r,i[1](h)}n[t]=void 0}};var d=setTimeout((function(){c({type:"timeout",target:u})}),12e4);u.onerror=u.onload=c,document.head.appendChild(u)}return Promise.all(e)},l.m=t,l.c=s,l.d=function(t,e,i){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(l.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)l.d(i,s,function(e){return t[e]}.bind(null,s));return i},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="/",l.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=e,c=c.slice();for(var h=0;h<c.length;h++)e(c[h]);var d=u;a.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"05c4":function(t,e,i){"use strict";var s=i("e9ff"),r=i.n(s);r.a},"06fa":function(t,e,i){"use strict";i.d(e,"a",(function(){return c}));class s{constructor(){this.init()}init(){this._list=[],this._onceList=[]}add(...t){this._list.push(...t)}addOnce(...t){this._onceList.push(...t)}remove(...t){t.forEach(t=>{const e=this._list.indexOf(t);e>-1&&this._list.splice(e,1)}),t.forEach(t=>{const e=this._onceList.indexOf(t);e>-1&&this._onceList.splice(e,1)})}removeAll(){this.init()}dispatch(...t){const e=[...this._list,...this._onceList];this._onceList=[],e.forEach(e=>e(...t))}}var r=i("58b7"),n=i("0e1e");const a="/api",o=t=>{const e=new r["a"],i=e.fromPayload(t).getObject();return e.dispose(),i},l=t=>t;class c{constructor(){this.onLogin=new s,this.state={isLogged:!1,user:{name:null,email:null,id:null}}}getThumbURL(t){return t}getFileURL(t){return t}getItem(t){const e={filter:{id:{eq:t}},fields:["*","image.*","file.*"]};return this.directus.getItems("items",e).then(({data:t})=>t.map(o)).then(t=>t[0]).catch(console.error)}getItems(t,{limit:e=100,offset:i=0}={}){const{tags:s,noTags:r,types:a,noTypes:l}=Object(n["a"])(t),c={limit:e,offset:i,filter:{tags:{},types:{}},fields:["*","image.*","file.*"]};return s.length>0&&(c.filter.tags.contains=s.join(",")),r.length>0&&(c.filter.tags.ncontains=r.join(",")),a.length>0&&(c.filter.types.contains=a.join(",")),l.length>0&&(c.filter.types.ncontains=l),this.directus.getItems("items",c).then(({data:t})=>t.map(o)).catch(console.error)}getGroups(t,{limit:e=100,offset:i=0}={}){const s={limit:e,offset:i,fields:["*","image.*"]};return this.directus.getItems("groups",s).then(({data:t})=>t.map(l))}isLoggedIn(){return this.directus.isLoggedIn().then(t=>{!0===t?this.getMe().then(t=>this.onLogin.dispatch(t)):this.onLogin.dispatch(!1)})}getMe(){return fetch(a+"/users/me").then(t=>t.json()).then(({user:t})=>console.log(t))}logout(){return this.directus.logout().then(t=>(this.onLogin.dispatch(!1),t)).catch(t=>{console.log(t)})}login(t,e){return this.directus.login({email:t,password:e}).then(t=>{!0===t?this.getMe().then(this.onLogin.dispatch):this.onLogin.dispatch(!1)}).catch(t=>{throw this.onLogin.dispatch(!1),t})}}const u=new c;e["b"]=u},"0941":function(t,e,i){},"0ccc":function(t,e,i){"use strict";var s=i("9ab2"),r=i.n(s);r.a},"0e1e":function(t,e,i){"use strict";i.d(e,"b",(function(){return r})),i.d(e,"a",(function(){return n}));const s={"#":"tag","@":"author",$:"type","%":"data"},r=t=>{const e="!"===t[0],i=e?t[1]:t[0],r=Object.keys(s).indexOf(i)>-1?s[i]:"word",n=("word"!==r?1:0)+(e?1:0),a=t.substr(n);return{word:a,type:r,no:e}},n=t=>{const e={tags:[],noTags:[],types:[],noTypes:[],authors:[],noAuthors:[],words:[],noWords:[],data:[],noData:[]};return t.forEach(t=>{const{word:i,no:s,type:n}=r(t),a=s?"no"+n[0].toUpperCase()+n.slice(1)+"s":n+"s";e[a].push(i)}),e}},3855:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"tags",class:{"read-only":t.readOnly},on:{click:function(e){return t.focusNewTag()}}},[t._l(t.tagsData,(function(e,s){return i("span",{key:s,staticClass:"input-tag",class:{"is-":e.type}},[i("span",{class:{"is-not":e.no}},[t._v(" "+t._s(e.word)+" ")]),t.readOnly?t._e():i("a",{staticClass:"remove",on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.remove(s)}}})])})),t.readOnly||t.isLimit?t._e():i("input",{directives:[{name:"model",rawName:"v-model",value:t.newTag,expression:"newTag"}],ref:"inputtag",staticClass:"new-tag",attrs:{placeholder:t.placeholder,type:"text"},domProps:{value:t.newTag},on:{keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"delete",[8,46],e.key,["Backspace","Delete","Del"])?null:(e.stopPropagation(),t.removeLastTag(e))},t.addNew],blur:t.addNew,input:function(e){e.target.composing||(t.newTag=e.target.value)}}})],2)},r=[],n=i("0e1e");const a={},o="",l=[13,188,9],c=!1,u=-1;var h={props:{filter:{type:Array,default:()=>[]},placeholder:{type:String,default:"Filters (#tag, $type, @author, !not)"},readOnly:{type:Boolean,default:!1}},data(){return{newTag:"",tags:[...this.filter]}},watch:{filter(){this.tags=[...this.filter]}},computed:{isLimit(){return u>0&&Number(u)===this.tags.length},tagsData(){return this.tags.map(n["b"])}},methods:{tagHelpers(t){return Object(n["b"])(t)},focusNewTag(){!this.readOnly&&this.$el.querySelector(".new-tag")&&this.$el.querySelector(".new-tag").focus()},addNew(t){t&&-1===l.indexOf(t.keyCode)&&("blur"!==t.type||!c)||this.isLimit||(t&&(t.stopPropagation(),t.preventDefault()),this.newTag&&-1===this.tags.indexOf(this.newTag)&&this.validateIfNeeded(this.newTag)&&(this.tags.push(this.newTag),this.newTag="",this.tagChange()))},validateIfNeeded(t){return""===o||void 0===o||("string"===typeof o&&Object.keys(a).indexOf(o)>-1?a[o].test(t):"object"!==typeof o||void 0===o.test||o.test(t))},remove(t){this.tags.splice(t,1),this.tagChange()},removeLastTag(){this.newTag||(this.tags.pop(),this.tagChange())},tagChange(){this.$emit("change",this.tags)}}},d=h,m=(i("b290"),i("2877")),p=Object(m["a"])(d,s,r,!1,null,"ccb76a24",null);e["a"]=p.exports},"41ed":function(t,e,i){"use strict";var s=i("7b50"),r=i.n(s);r.a},"4a46":function(t,e,i){},"555f":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},r=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"loader"},[i("div",{staticClass:"item"})])}],n={},a=n,o=(i("05c4"),i("2877")),l=Object(o["a"])(a,s,r,!1,null,"29a43c4e",null);e["a"]=l.exports},"56aa":function(t,e,i){"use strict";var s=i("df52"),r=i.n(s);r.a},"56d7":function(t,e,i){"use strict";i.r(e);var s=i("2b0e"),r=i("8c4f"),n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("Tags",{attrs:{filter:t.filter},on:{change:function(e){return t.filter=e}}}),i("Items",{attrs:{filter:t.filter}})],1)},a=[],o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.loading?i("Loader"):i("div",{staticClass:"items",class:["is-"+t.displayMode]},t._l(t.items,(function(e){return i("Item",{key:e.id,attrs:{item:e,"display-mode":t.displayMode}})})),1)],1)},l=[],c=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("router-link",{staticClass:"item",class:t.classData,style:t.itemStyle,attrs:{to:t.to}},[t.item.image?i("img",{staticClass:"thumb",class:{"is-show":t.showThumb&&t.isThumbLoaded},attrs:{src:t.item.image.src,srcset:t.item.image.srcset,width:t.item.image.width,height:t.item.image.height,alt:t.item.image.alt},on:{load:function(){return t.isThumbLoaded=!0}}}):t._e(),t.isVideo?i("Play",{staticClass:"play",attrs:{color:t.colors[2].hex,bg:"rgba("+t.colors[3].r+","+t.colors[3].g+","+t.colors[3].b+", 0.75)"}}):t._e(),t.is3D?i("Cube",{staticClass:"play",attrs:{color1:t.colors[0].hex,color2:t.colors[1].hex,color3:t.colors[2].hex,bg:"rgba("+t.colors[3].r+","+t.colors[3].g+","+t.colors[3].b+", 0.75)"}}):t._e(),t.item.title?i("h1",{staticClass:"title bold",style:{color:t.colors[1].hex}},[i("div",{staticClass:"bg",style:{background:t.colors[0].hex}}),i("span",[t._v(t._s(t.item.title))])]):t._e(),i("time",{staticClass:"date"},[t._v(" "+t._s(t.item.date)+" ")]),i("p",{staticClass:"description"},[t._v(" "+t._s(t.item.description)+" ")]),i("TagsDisplay",{attrs:{tags:t.item.tags,bg:t.colors[3].hex,color:t.colors[2].hex}}),i("span",{staticClass:"score"},[t._v(" "+t._s(t.item.score)+"/5 ")])],1)},u=[],h=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("svg",{attrs:{x:"0px",y:"0px",width:t.width,height:t.height,viewBox:"0 0 496.158 496.158","xml:space":"preserve"}},[i("path",{style:{fill:t.bg},attrs:{d:"M496.158,248.085c0-137.021-111.07-248.082-248.076-248.082C111.07,0.002,0,111.062,0,248.085\n    c0,137.002,111.07,248.071,248.083,248.071C385.088,496.155,496.158,385.086,496.158,248.085z"}}),i("path",{style:{fill:t.color},attrs:{d:"M370.805,235.242L195.856,127.818c-4.776-2.934-11.061-3.061-15.951-0.322\n    c-4.979,2.785-8.071,8.059-8.071,13.762v214c0,5.693,3.083,10.963,8.046,13.752c2.353,1.32,5.024,2.02,7.725,2.02\n    c2.897,0,5.734-0.797,8.205-2.303l174.947-106.576c4.657-2.836,7.556-7.986,7.565-13.44\n    C378.332,243.258,375.452,238.096,370.805,235.242z"}})])},d=[],m={props:{bg:{type:String,default:"#FFF"},color:{type:String,default:"#000"},width:{type:Number,default:64},height:{type:Number,default:64}}},p=m,f=i("2877"),g=Object(f["a"])(p,h,d,!1,null,"c0f0b658",null),y=g.exports,b=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("svg",{attrs:{x:"0px",y:"0px",width:t.width,height:t.height,viewBox:"0 0 496.158 496.158","xml:space":"preserve"}},[i("path",{staticStyle:{fill:"#999999"},style:{fill:t.bg},attrs:{d:"M496.158,248.085c0-137.021-111.07-248.082-248.076-248.082C111.07,0.002,0,111.062,0,248.085       c0,137.002,111.07,248.071,248.083,248.071C385.088,496.155,496.158,385.086,496.158,248.085z",id:"path2"}}),i("path",{staticStyle:{"fill-opacity":"1","stroke-width":"11.22167206","stroke-miterlimit":"4","stroke-dasharray":"none"},style:{fill:t.color1},attrs:{d:"m 247.1319,116.26667 c -13.40556,0 -109.39292,55.41975 -116.0957,67.0293 -6.70278,11.60956 -6.70278,122.44513 0,134.05469 6.70278,11.60955 102.69014,67.02734 116.0957,67.02734 0.22369,0 0.47332,-0.0165 0.74219,-0.0469 V 116.3155 c -0.26887,-0.0304 -0.5185,-0.0488 -0.74219,-0.0488 z"}}),i("path",{staticStyle:{"fill-opacity":"1","stroke-width":"9.63624096","stroke-miterlimit":"4","stroke-dasharray":"none"},style:{fill:t.color2},attrs:{d:"m 247.87409,116.3155 v 268.01563 c 15.84477,-1.7914 108.76063,-55.56463 115.35156,-66.98047 6.70278,-11.60956 6.70278,-122.44513 0,-134.05469 -6.59093,-11.41584 -99.50679,-65.18907 -115.35156,-66.98047 z"}}),i("path",{staticStyle:{"fill-opacity":"1","stroke-width":"8.78657627","stroke-miterlimit":"4","stroke-dasharray":"none"},style:{fill:t.color3},attrs:{d:"m 247.1319,116.26667 c -13.397,0 -109.26775,55.34787 -116.08007,67.00586 l 114.90234,70.14258 116.53906,-71.14258 C 351.46991,168.77426 260.18143,116.26667 247.1319,116.26667 Z"}})])},v=[],_={props:{bg:{type:String,default:"#FFF"},color1:{type:String,default:"#F07"},color2:{type:String,default:"#07F"},color3:{type:String,default:"#7F0"},width:{type:Number,default:64},height:{type:Number,default:64}}},w=_,O=Object(f["a"])(w,b,v,!1,null,"728890b9",null),x=O.exports,C=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ul",{staticClass:"tags"},t._l(t.tags,(function(e){return i("li",{key:e,staticClass:"tag",style:{backgroundColor:t.bg,color:t.color}},[t._v(" "+t._s(e)+" ")])})),0)},k=[],L={props:{bg:{type:String},color:{type:String},tags:{type:Array,default(){return[]}}}},T=L,j=(i("0ccc"),Object(f["a"])(T,C,k,!1,null,"eeb6f692",null)),I=j.exports;const S=(t,e)=>{while(e>0){var i=t%e;t=e,e=i}return t};var $={components:{Play:y,Cube:x,TagsDisplay:I},props:{item:{type:Object},displayMode:{type:String,default:"text"}},data(){return{displayImage:!1,classData:[],itemStyle:{},showThumb:!1,isThumbLoaded:!1,w:1,h:1}},computed:{size(){return this.item.image?[this.item.image.width,this.item.image.height]:[3,1]},isVideo(){return this.item.types.indexOf("video")>-1},is3D(){return this.item.types.indexOf("3d")>-1},to(){return{name:this.$route.name,params:{itemID:this.item.id}}},colors(){const t=(t,e)=>Math.abs(t.r-e.r)+Math.abs(t.g-e.g)+Math.abs(t.b-e.b),e=t=>{const e=Number("0x"+t.substring(1));return{hex:t,r:e>>16&255,g:e>>8&255,b:e>>0&255}},i=this.item.colors.map(e),s=["#FFFFFF","#000000","#555555","#AAAAAA"];while(i.length<4)i.push(e(s.shift()));const r=i.shift(),n=i.shift();i.sort((e,i)=>t(r,e)-t(r,i));const a=i.pop();i.sort((e,i)=>t(n,e)-t(n,i));const o=i.pop();return[r,a,n,o]}},created(){const t=this.size,e=6;let i=1,s=1;t[0]>t[1]?(i=e,s=Math.round(i*t[1]/t[0])||1):(s=e,i=Math.round(s*t[0]/t[1])||1);const r=S(i,s);i/=r,s/=r,this.setSize(i,s),this.item.image&&"thumb"===this.displayMode&&this.$set(this.itemStyle,"background-color",this.item.colors&&this.item.colors[0]?this.item.colors[0]:"rgba(0,0,0,0)")},mounted(){this.item.image&&this.optimizeLoad()},methods:{optimizeLoad(){const t={root:null,rootMargin:"0px",threshold:[0,1]};this._observer=new IntersectionObserver(this.onInOut,t),this._observer.observe(this.$el)},onInOut(t){t[0].intersectionRatio>0?this.showThumb=!0:this.showThumb=!1},setSize(t=1,e=1){const i=12,s=4,r=this.item.score*(i-s)+s,n=6;let a=5;while(t*(a+1)*e*(a+1)<=r&&Math.max(t*a+1,e*a+1)<n)a++;while(Math.max(t*a,e*a)>n)a--;t*=a,e*=a,this.classData.push("w"+t,"h"+e)}}},E=$,D=(i("d13d"),Object(f["a"])(E,c,u,!1,null,"e6f2e6bc",null)),M=D.exports,A=i("06fa"),P=i("555f"),F={components:{Item:M,Loader:P["a"]},props:{filter:{type:Array,default(){return[]}}},data(){return{displayMode:"thumb",items:[],loading:!1}},watch:{filter:{immediate:!0,handler(t){this.loading=!0,A["b"].getItems(t).then(t=>{this.displayMode="thumb",this.items=t}).catch(console.error).finally(()=>{this.loading=!1})}}},methods:{onItems({data:t,meta:e}){console.log(t,e)}}},N=F,R=(i("69af"),Object(f["a"])(N,o,l,!1,null,"1db27b95",null)),U=R.exports,B=i("3855"),z={components:{Items:U,Tags:B["a"]},data(){return{filter:[]}}},q=z,G=Object(f["a"])(q,n,a,!1,null,null,null),H=G.exports,V=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("Tags",{on:{change:function(e){return t.filter=e}}}),i("Items",{attrs:{filter:t.filter}})],1)},Z=[],J={components:{Items:U,Tags:B["a"]},data(){return{filter:[]}}},Y=J,K=Object(f["a"])(Y,V,Z,!1,null,null,null),W=K.exports,Q=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.currentGroup?i("router-view",{attrs:{group:t.currentGroup}}):i("ul",t._l(t.groups,(function(t){return i("li",{key:t.id},[i("Group",{attrs:{group:t}})],1)})),0)],1)},X=[],tt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("router-link",{attrs:{to:{name:"group",params:{id:t.group.id}}}},[i("h1",[t._v(" "+t._s(t.group.title)+" ")]),i("p",[t._v(" "+t._s(t.group.description)+" ")])])},et=[],it={components:{},props:{group:{type:Object}},created(){},methods:{}},st=it,rt=Object(f["a"])(st,tt,et,!1,null,"3ec832ec",null),nt=rt.exports,at={components:{Group:nt},data(){return{groups:[]}},computed:{currentGroup(){const t=this.$route.params.id?+(""+this.$route.params.id).split("#")[0]:null;return t?this.groups.find(e=>e.id===t):null}},created(){A["b"].getGroups(this.onBoards).then(t=>{this.groups=t})},methods:{onBoards({data:t}){this.groups.splice(0,this.groups.length,...t)}}},ot=at,lt=Object(f["a"])(ot,Q,X,!1,null,"48f2aef2",null),ct=lt.exports,ut=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("h2",[t._v(t._s(t.group.title))]),t.group.description?i("p",[t._v(t._s(t.group.description))]):t._e(),i("Tags",{attrs:{filter:t.filter},on:{change:function(e){return t.filter=e}}}),i("Items",{attrs:{filter:t.filter}})],1)},ht=[],dt={components:{Items:U,Tags:B["a"]},props:{group:{type:Object}},data(){return{filter:[],displayMode:"thumb",loading:!1}},watch:{"group.filter":{immediate:!0,handler(t){this.filter=t.split(",")}}}},mt=dt,pt=Object(f["a"])(mt,ut,ht,!1,null,"719ea4ea",null),ft=pt.exports;s["a"].use(r["a"]);const gt=[{name:"home",path:"/",component:H,meta:{auth:!1}},{name:"items",path:"/item/:itemID?",component:W,meta:{auth:!1}},{name:"groups",path:"/group",component:ct,meta:{auth:!1},children:[{name:"group",path:":id/:itemID?",component:ft}]},{name:"adminHome",path:"/admin",component:H,meta:{auth:!0}},{name:"adminItems",path:"/admin/item",component:()=>Promise.all([i.e("admin~import"),i.e("admin")]).then(i.bind(null,"43c9")),meta:{auth:!0}},{name:"adminBoards",path:"/admin/group",component:ct,meta:{auth:!0}},{name:"adminImport",path:"/admin/import",component:()=>Promise.all([i.e("admin~import"),i.e("import")]).then(i.bind(null,"08cf")),meta:{auth:!0}}],yt=new r["a"]({mode:"history",base:"/",routes:gt});var bt=yt,vt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("main",{attrs:{id:"app"}},[i("header",{staticClass:"header"},[i("router-link",{staticClass:"title black",attrs:{to:{name:"home"}}},[i("h1",[t._v("Inspire")])]),i("User",{attrs:{adminPage:t.authRequired}})],1),i("nav",{staticClass:"nav"},[i("router-link",{staticClass:"link",attrs:{to:{name:"items"}}},[t._v("Items")]),i("router-link",{staticClass:"link",attrs:{to:{name:"adminItems"}}},[t._v("Admin")]),i("router-link",{staticClass:"link",attrs:{to:{name:"groups"}}},[t._v("Groups")]),i("router-link",{staticClass:"link",attrs:{to:{name:"adminImport"}}},[t._v("Import")])],1),i("router-view"),i("ModalItem")],1)},_t=[],wt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("Modal",{attrs:{"is-open":t.$route.params.itemID},on:{close:function(e){return t.close()}}},[t.item?[t.edit?i("AdminItemForm",{attrs:{item:t.item,create:!1},on:{cancel:function(e){return t.close()}}}):i("ItemDetails",{attrs:{item:t.item}}),t.$store.getters.isLogged&&!t.edit?i("button",{on:{click:function(e){t.edit=!0}}},[t._v(" Edit ")]):t._e()]:i("Loader")],2)},Ot=[],xt=i("714b"),Ct=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("article",{staticClass:"item"},[i("header",[i("h1",{staticClass:"title bold"},[i("div",{staticClass:"bg"}),i("span",[t._v(t._s(t.item.title))])]),t.item.description?i("p",{staticClass:"description"},[t._v(" "+t._s(t.item.description)+" ")]):t._e()]),i("Content",{attrs:{item:t.item}}),t.item.types.indexOf("image")>-1&&t.item.content?i("a",{attrs:{href:t.item.content,target:"_blank",rel:"noreferrer noopener nofollow"}},[t._v(t._s(t.item.content.replace(/http:\/\/|https:\/\//,"")))]):t._e(),i("footer",[i("TagsDisplay",{attrs:{tags:t.item.tags}}),i("time",{staticClass:"date"},[t._v(" "+t._s(t.date)+" ")])],1),i("span",{staticClass:"score"},[t._v(" "+t._s(t.item.score)+"/5 ")])],1)},kt=[],Lt=i("9d26"),Tt={components:{Content:Lt["a"],TagsDisplay:I},props:{item:{type:Object,required:!0}},computed:{date(){const t=new Date(this.item.date),e=new Date;if(t.toLocaleDateString()===e.toLocaleDateString())return t.toLocaleDateString("en-US",{hour12:!1}).substring(0,5);{const e={day:"numeric",month:"short"};return t.getYear()!==(new Date).getYear()&&(e.year="numeric"),t.toLocaleDateString("en-US",e)}}},created(){},mounted(){},methods:{}},jt=Tt,It=(i("41ed"),Object(f["a"])(jt,Ct,kt,!1,null,"3a5ad1c2",null)),St=It.exports,$t={components:{Modal:xt["a"],Loader:P["a"],ItemDetails:St,AdminItemForm:()=>Promise.all([i.e("admin~import"),i.e("admin")]).then(i.bind(null,"fbeb"))},data(){return{hash:"",edit:!1,item:null}},watch:{"$route.params":{immediate:!0,handler({itemID:t}){this.edit=!1,t?(this.loading=!0,A["b"].getItem(t).then(t=>{this.item=t}).catch(console.error).finally(()=>{this.loading=!1})):this.item=null}}},methods:{close(){this.$router.push({name:this.$route.name})},onHash(){const t=window.location.hash;this.hash=t.replace(/^#/,"")}}},Et=$t,Dt=(i("63be"),Object(f["a"])(Et,wt,Ot,!1,null,"158ab318",null)),Mt=Dt.exports;const At=()=>Promise.all([i.e("admin~import"),i.e("admin")]).then(i.bind(null,"7088"));var Pt={components:{User:At,ModalItem:Mt},data(){return{}},computed:{authRequired(){return this.$route.meta.auth}},created(){A["b"].onLogin.add(this.setLogged),A["b"].isLoggedIn()},destroyed(){A["b"].onLogin.remove(this.setLogged)},methods:{setLogged(t){console.log(t);const e=t=>({nick:t.firstName+" "+t.lastName,image:t.avatar}),i=t?e(t):null;this.$store.commit("user",i)}}},Ft=Pt,Nt=(i("edf3"),Object(f["a"])(Ft,vt,_t,!1,null,"6a037d1b",null)),Rt=Nt.exports,Ut=i("9483");Object(Ut["a"])("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(t){console.error("Error during service worker registration:",t)}});i("db37");s["a"].config.productionTip=!1,s["a"].prototype.$store=A["b"].state,new s["a"]({data:{state:A["b"].state},router:bt,render:t=>t(Rt)}).$mount("#app")},"58b7":function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));const s=t=>({id:t.id,name:t.filename_download,width:t.width,height:t.height,src:"/api"+t.data.url,srcSet:t.data.thumbnails.filter(t=>t.width>300||t.height>300).map(t=>"/api"+t.relative_url+" "+t.width+"w").join(", "),alt:t.description||t.title}),r=t=>({id:t.id,name:t.filename_download,width:t.width,height:t.height,src:"/api"+t.data.url,type:t.type});class n{constructor(){this.fromPayload(),this._disposeList=[]}dispose(){this._disposeList.forEach(t=>t()),this._disposeList=[],this.fromPayload()}fromPayload(t={}){return this.id=t.id||"",this.status=t.status||"draft",this.title=t.title||"",this.description=t.description||"",this.types=t.types||[],this.tags=t.tags||[],this.colors=t.colors||[],this.colorsRound=t.colors_round||[],this.content=t.content||"",this.input=t.input||"",this.date=new Date(t.date||Date.now()),this.file=t.file?r(t.file):null,this.score=t.score||0,this.image=t.image?s(t.image):null,this.author=null,this}getPayload(){const t={id:this.id,status:this.status,title:this.title,description:this.description,types:[...this.types],tags:[...this.tags],colors:[...this.colors],colors_round:[...this.colorsRound],input:this.input,content:this.content,file:this.file,image:this.image,score:this.score||0,date:this.date.toISOString().replace(/\.[0-9]{3}[A-Z]$/,"").replace(/T/," "),created_by:this.author};return Object.keys(t).forEach(e=>{(null===t[e]||Array.isArray(t[e])&&t[e].length<1)&&delete t[e]}),t}fromObject(t={}){return this.id=t.id,this.status=t.status,this.title=t.title,this.description=t.description,this.types=[...t.types],this.tags=[...t.tags],this.colors=[...t.colors],this.colorsRound=[...t.colorsRound],this.input=t.input,this.content=t.content,this.file=t.file,this.image=t.image,this.score=t.score,this.date=t.date?new Date(t.date):null,this.author=t.author,this}getObject(){let t=this.image,e=this.file;if(t instanceof File){const e=URL.createObjectURL(t);this._disposeList.push(()=>URL.revokeObjectURL(e)),t={src:e}}if(e instanceof File){const t=URL.createObjectURL(e);this._disposeList.push(()=>URL.revokeObjectURL(t)),e={src:t}}return{id:this.id,status:this.status,title:this.title,description:this.description,types:[...this.types],tags:[...this.tags],colors:[...this.colors],colorsRound:[...this.colorsRound],input:this.input,content:this.content,file:e,image:t,score:this.score,date:this.date.toISOString().replace(/:[0-9]{2}\.[0-9]{3}[A-Z]$/,""),author:this.author}}}},"63be":function(t,e,i){"use strict";var s=i("7ccf"),r=i.n(s);r.a},"69af":function(t,e,i){"use strict";var s=i("0941"),r=i.n(s);r.a},"70a3":function(t,e,i){},"714b":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isOpen?i("div",{staticClass:"modal"},[i("div",{staticClass:"container"},[i("div",{staticClass:"bg",on:{click:t.close}}),i("div",{staticClass:"box"},[t._t("default")],2)])]):t._e()},r=[],n={components:{},props:{isOpen:{type:Boolean,default:!1}},created(){window.addEventListener("keyup",this.keyUp)},destroyed(){window.removeEventListener("keyup",this.keyUp)},methods:{close(){this.$emit("close")},keyUp(t){27===t.keyCode&&this.close()}}},a=n,o=(i("56aa"),i("2877")),l=Object(o["a"])(a,s,r,!1,null,"f420fa22",null);e["a"]=l.exports},"7b50":function(t,e,i){},"7ccf":function(t,e,i){},"9ab2":function(t,e,i){},"9d26":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"content",class:["is-"+t.mainType,""!==t.invRatio?"has-ratio":""]},[t.invRatio?i("div",{staticClass:"dummy",style:{paddingTop:t.invRatio}}):t._e(),"image"===t.mainType?i("img",{staticClass:"image",attrs:{src:t.item.image.src,srcset:t.item.image.srcset,width:t.item.image.width,height:t.item.image.height,alt:t.item.image.alt}}):"video"===t.mainType?i("video",{staticClass:"video",attrs:{controls:""}},[i("source",{attrs:{src:t.item.file.src,type:t.item.file.type}})]):i("div",{staticClass:"data",domProps:{innerHTML:t._s(t.html)}},[t._v(" (Content here) ")])])},r=[],n={props:{item:{type:Object}},computed:{mainType(){if(this.item.types){if(this.item.types.indexOf("embed")>-1)return"embed";if(this.item.types.indexOf("url")>-1)return"url";if(this.item.types.indexOf("video")>-1)return"video";if(this.item.types.indexOf("image")>-1)return"image"}return"text"},html(){return"embed"===this.mainType?this.item.content:"url"===this.mainType?'<a href="'+this.item.content+'" target="_blank" rel="noreferrer noopener nofollow">'+this.item.content.replace(/http:\/\/|https:\/\//,"")+"</a>":"text"===this.mainType?this.item.content:"type not know"},invRatio(){if("embed"===this.mainType){if(null!==this.item.content.trim().match(/<iframe(.+)<\/iframe>/g)){const t=/<iframe[^>]+width=["']?(\d+%?)/gi,e=/<iframe[^>]+height=["']?(\d+%?)/gi,i=t.exec(this.item.content),s=e.exec(this.item.content),r=i&&i.length>1&&i[1]||640,n=s&&s.length>1&&s[1]||360;if(r&&n)return 100*n/r+"%"}return"56.25%"}return""}}},a=n,o=(i("dabb"),i("2877")),l=Object(o["a"])(a,s,r,!1,null,"0e1faab0",null);e["a"]=l.exports},ac91:function(t,e,i){},b290:function(t,e,i){"use strict";var s=i("ac91"),r=i.n(s);r.a},bfcc:function(t,e,i){},d13d:function(t,e,i){"use strict";var s=i("70a3"),r=i.n(s);r.a},dabb:function(t,e,i){"use strict";var s=i("bfcc"),r=i.n(s);r.a},db37:function(t,e,i){},df52:function(t,e,i){},e9ff:function(t,e,i){},edf3:function(t,e,i){"use strict";var s=i("4a46"),r=i.n(s);r.a}});