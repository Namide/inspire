(function(t){function e(e){for(var i,r,s=e[0],c=e[1],u=e[2],l=0,h=[];l<s.length;l++)r=s[l],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&h.push(o[r][0]),o[r]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);f&&f(e);while(h.length)h.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],i=!0,r=1;r<n.length;r++){var s=n[r];0!==o[s]&&(i=!1)}i&&(a.splice(e--,1),t=c(c.s=n[0]))}return t}var i={},r={app:0},o={app:0},a=[];function s(t){return c.p+"js/"+({"admin~import":"admin~import",admin:"admin",import:"import"}[t]||t)+"."+{"admin~import":"30810cae",admin:"8e24e9c9",import:"bee7a2ca"}[t]+".js"}function c(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(t){var e=[],n={admin:1,import:1};r[t]?e.push(r[t]):0!==r[t]&&n[t]&&e.push(r[t]=new Promise((function(e,n){for(var i="css/"+({"admin~import":"admin~import",admin:"admin",import:"import"}[t]||t)+"."+{"admin~import":"31d6cfe0",admin:"da5eb05d",import:"d2a814b1"}[t]+".css",o=c.p+i,a=document.getElementsByTagName("link"),s=0;s<a.length;s++){var u=a[s],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===i||l===o))return e()}var h=document.getElementsByTagName("style");for(s=0;s<h.length;s++){u=h[s],l=u.getAttribute("data-href");if(l===i||l===o)return e()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=e,f.onerror=function(e){var i=e&&e.target&&e.target.src||o,a=new Error("Loading CSS chunk "+t+" failed.\n("+i+")");a.code="CSS_CHUNK_LOAD_FAILED",a.request=i,delete r[t],f.parentNode.removeChild(f),n(a)},f.href=o;var d=document.getElementsByTagName("head")[0];d.appendChild(f)})).then((function(){r[t]=0})));var i=o[t];if(0!==i)if(i)e.push(i[2]);else{var a=new Promise((function(e,n){i=o[t]=[e,n]}));e.push(i[2]=a);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=s(t);var h=new Error;u=function(e){l.onerror=l.onload=null,clearTimeout(f);var n=o[t];if(0!==n){if(n){var i=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;h.message="Loading chunk "+t+" failed.\n("+i+": "+r+")",h.name="ChunkLoadError",h.type=i,h.request=r,n[1](h)}o[t]=void 0}};var f=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(e)},c.m=t,c.c=i,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)c.d(n,i,function(e){return t[e]}.bind(null,i));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/",c.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=e,u=u.slice();for(var h=0;h<u.length;h++)e(u[h]);var f=l;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"06fa":function(t,e,n){"use strict";var i=n("1a1c"),r=n.n(i);function o(t){return c(t)||s(t)||a()}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function s(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function c(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function h(t,e,n){return e&&l(t.prototype,e),n&&l(t,n),t}var f=function(){function t(){u(this,t),this.init()}return h(t,[{key:"init",value:function(){this._list=[],this._onceList=[]}},{key:"add",value:function(){var t;(t=this._list).push.apply(t,arguments)}},{key:"addOnce",value:function(){var t;(t=this._onceList).push.apply(t,arguments)}},{key:"remove",value:function(){for(var t=this,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];n.forEach((function(e){var n=t._list.indexOf(e);n>-1&&t._list.splice(n,1)})),n.forEach((function(e){var n=t._onceList.indexOf(e);n>-1&&t._onceList.splice(n,1)}))}},{key:"removeAll",value:function(){this.init()}},{key:"dispatch",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=[].concat(o(this._list),o(this._onceList));this._onceList=[],i.forEach((function(t){return t.apply(void 0,e)}))}}]),t}(),d=n("58b7"),m=n("0e1e");function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function v(t,e,n){return e&&g(t.prototype,e),n&&g(t,n),t}n.d(e,"a",(function(){return O}));var y="/api",b={url:y,project:"inspire",mode:"cookie"},w=new r.a(b),_=function(t){var e=new d["a"],n=e.fromPayload(t).getObject();return e.dispose(),n},k=function(t){return t},O=function(){function t(){p(this,t),this.apiURL=y,this.directus=w,this.groups=null,this.items=null,this.onLogin=new f}return v(t,[{key:"getThumbURL",value:function(t){return""}},{key:"getFileURL",value:function(t){return""}},{key:"getItem",value:function(t){var e={filter:{id:{eq:t}},fields:["*","image.*","file.*"]};return this.directus.getItems("items",e).then((function(t){var e=t.data;return e.map(_)})).then((function(t){return t[0]})).catch(console.error)}},{key:"getItems",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.limit,i=void 0===n?100:n,r=e.offset,o=void 0===r?0:r,a=Object(m["a"])(t),s=a.tags,c=a.noTags,u=a.types,l=a.noTypes,h={limit:i,offset:o,filter:{tags:{},types:{}},fields:["*","image.*","file.*"]};return s.length>0&&(h.filter.tags.contains=s.join(",")),c.length>0&&(h.filter.tags.ncontains=c.join(",")),u.length>0&&(h.filter.types.contains=u.join(",")),l.length>0&&(h.filter.types.ncontains=l),this.directus.getItems("items",h).then((function(t){var e=t.data;return e.map(_)})).catch(console.error)}},{key:"getGroups",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.limit,i=void 0===n?100:n,r=e.offset,o=void 0===r?0:r,a={limit:i,offset:o,fields:["*","image.*"]};return this.directus.getItems("groups",a).then((function(t){var e=t.data;return e.map(k)}))}},{key:"isLoggedIn",value:function(){var t=this;return this.directus.isLoggedIn().then((function(e){!0===e?t.getMe().then((function(e){return t.onLogin.dispatch(e)})):t.onLogin.dispatch(!1)}))}},{key:"getMe",value:function(){return this.directus.getMe({fields:["id","avatar","email","first_name","last_name","locale","avatar.*"]}).then((function(t){var e=t.data,n=null;if(e.avatar){var i=e.avatar.data.thumbnails.find((function(t){var e=t.dimension;return"300x300"===e}));if(i){var r=y+i.relative_url.substring(1);n={src:r,width:i.width,height:i.height}}}return{avatar:n,firstName:e.first_name,lastName:e.last_name,email:e.email,locale:e.locale}}))}},{key:"logout",value:function(){var t=this;return this.directus.logout().then((function(e){return t.onLogin.dispatch(!1),e})).catch((function(t){console.log(t)}))}},{key:"login",value:function(t,e){var n=this;return this.directus.login({email:t,password:e}).then((function(t){!0===t?n.getMe().then(n.onLogin.dispatch):n.onLogin.dispatch(!1)})).catch((function(t){throw n.onLogin.dispatch(!1),t}))}}]),t}(),C=new O;e["b"]=C},"0841":function(t,e,n){"use strict";var i=n("a4ab"),r=n.n(i);r.a},"0b87":function(t,e,n){"use strict";var i=n("fbdb"),r=n.n(i);r.a},"0e1e":function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return o}));var i={"#":"tag","@":"author",$:"type","%":"data"},r=function(t){var e="!"===t[0],n=e?t[1]:t[0],r=Object.keys(i).indexOf(n)>-1?i[n]:"word",o=("word"!==r?1:0)+(e?1:0),a=t.substr(o);return{word:a,type:r,no:e}},o=function(t){var e={tags:[],noTags:[],types:[],noTypes:[],authors:[],noAuthors:[],words:[],noWords:[],data:[],noData:[]};return t.forEach((function(t){var n=r(t),i=n.word,o=n.no,a=n.type,s=o?"no"+a[0].toUpperCase()+a.slice(1)+"s":a+"s";e[s].push(i)})),e}},"151e":function(t,e,n){"use strict";var i=n("e87b"),r=n.n(i);r.a},"22eb":function(t,e,n){},2587:function(t,e,n){},"2e9b":function(t,e,n){},3855:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tags",class:{"read-only":t.readOnly},on:{click:function(e){return t.focusNewTag()}}},[t._l(t.tagsData,(function(e,i){return n("span",{key:i,staticClass:"input-tag",class:{"is-":e.type}},[n("span",{class:{"is-not":e.no}},[t._v(" "+t._s(e.word)+" ")]),t.readOnly?t._e():n("a",{staticClass:"remove",on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.remove(i)}}})])})),t.readOnly||t.isLimit?t._e():n("input",{directives:[{name:"model",rawName:"v-model",value:t.newTag,expression:"newTag"}],ref:"inputtag",staticClass:"new-tag",attrs:{placeholder:t.placeholder,type:"text"},domProps:{value:t.newTag},on:{keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"delete",[8,46],e.key,["Backspace","Delete","Del"])?null:(e.stopPropagation(),t.removeLastTag(e))},t.addNew],blur:t.addNew,input:function(e){e.target.composing||(t.newTag=e.target.value)}}})],2)},r=[],o=n("0e1e");function a(t){return a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function s(t){return l(t)||u(t)||c()}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function u(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function l(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}var h={},f="",d=[13,188,9],m=!1,p=-1,g={props:{filter:{type:Array,default:function(){return[]}},placeholder:{type:String,default:"Filters (#tag, $type, @author, !not)"},readOnly:{type:Boolean,default:!1}},data:function(){return{newTag:"",tags:s(this.filter)}},watch:{filter:function(){this.tags=s(this.filter)}},computed:{isLimit:function(){return p>0&&Number(p)===this.tags.length},tagsData:function(){return this.tags.map(o["b"])}},methods:{tagHelpers:function(t){return Object(o["b"])(t)},focusNewTag:function(){!this.readOnly&&this.$el.querySelector(".new-tag")&&this.$el.querySelector(".new-tag").focus()},addNew:function(t){t&&-1===d.indexOf(t.keyCode)&&("blur"!==t.type||!m)||this.isLimit||(t&&(t.stopPropagation(),t.preventDefault()),this.newTag&&-1===this.tags.indexOf(this.newTag)&&this.validateIfNeeded(this.newTag)&&(this.tags.push(this.newTag),this.newTag="",this.tagChange()))},validateIfNeeded:function(t){return""===f||void 0===f||("string"===typeof f&&Object.keys(h).indexOf(f)>-1?h[f].test(t):"object"!==a(f)||void 0===f.test||f.test(t))},remove:function(t){this.tags.splice(t,1),this.tagChange()},removeLastTag:function(){this.newTag||(this.tags.pop(),this.tagChange())},tagChange:function(){this.$emit("change",this.tags)}}},v=g,y=(n("577d"),n("2877")),b=Object(y["a"])(v,i,r,!1,null,"335aee0f",null);e["a"]=b.exports},"555f":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"loader"},[n("div",{staticClass:"item"})])}],o={},a=o,s=(n("a38b"),n("2877")),c=Object(s["a"])(a,i,r,!1,null,"d2a1c880",null);e["a"]=c.exports},"56b4":function(t,e,n){"use strict";var i=n("22eb"),r=n.n(i);r.a},"56d7":function(t,e,n){"use strict";n.r(e);var i=n("2b0e"),r=n("2f62");i["a"].use(r["a"]);var o=new r["a"].Store({state:{user:null},getters:{isLogged:function(t){return null!==t.user},userNick:function(t){return t.user?t.user.nick:null},userImage:function(t){return t.user&&t.user.image?t.user.image:null}},actions:{},mutations:{user:function(t,e){t.user=e}}}),a=n("8c4f"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Tags",{attrs:{filter:t.filter},on:{change:function(e){return t.filter=e}}}),n("Items",{attrs:{filter:t.filter}})],1)},c=[],u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.loading?n("Loader"):n("div",{staticClass:"items",class:["is-"+t.displayMode]},t._l(t.items,(function(e){return n("Item",{key:e.id,attrs:{item:e,"display-mode":t.displayMode}})})),1)],1)},l=[],h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("router-link",{staticClass:"item",class:t.classData,style:t.itemStyle,attrs:{to:t.to}},[t.item.image?n("img",{staticClass:"thumb",class:{"is-show":t.showThumb&&t.isThumbLoaded},attrs:{src:t.item.image.src,srcset:t.item.image.srcset,width:t.item.image.width,height:t.item.image.height,alt:t.item.image.alt},on:{load:function(){return t.isThumbLoaded=!0}}}):t._e(),t.isVideo?n("Play",{staticClass:"play",attrs:{color:t.colors[2].hex,bg:"rgba("+t.colors[3].r+","+t.colors[3].g+","+t.colors[3].b+", 0.75)"}}):t._e(),t.is3D?n("Cube",{staticClass:"play",attrs:{color1:t.colors[0].hex,color2:t.colors[1].hex,color3:t.colors[2].hex,bg:"rgba("+t.colors[3].r+","+t.colors[3].g+","+t.colors[3].b+", 0.75)"}}):t._e(),t.item.title?n("h1",{staticClass:"title bold",style:{color:t.colors[1].hex}},[n("div",{staticClass:"bg",style:{background:t.colors[0].hex}}),n("span",[t._v(t._s(t.item.title))])]):t._e(),n("time",{staticClass:"date"},[t._v(" "+t._s(t.item.date)+" ")]),n("p",{staticClass:"description"},[t._v(" "+t._s(t.item.description)+" ")]),n("TagsDisplay",{attrs:{tags:t.item.tags,bg:t.colors[3].hex,color:t.colors[2].hex}}),n("span",{staticClass:"score"},[t._v(" "+t._s(t.item.score)+"/5 ")])],1)},f=[],d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{attrs:{x:"0px",y:"0px",width:t.width,height:t.height,viewBox:"0 0 496.158 496.158","xml:space":"preserve"}},[n("path",{style:{fill:t.bg},attrs:{d:"M496.158,248.085c0-137.021-111.07-248.082-248.076-248.082C111.07,0.002,0,111.062,0,248.085\n    c0,137.002,111.07,248.071,248.083,248.071C385.088,496.155,496.158,385.086,496.158,248.085z"}}),n("path",{style:{fill:t.color},attrs:{d:"M370.805,235.242L195.856,127.818c-4.776-2.934-11.061-3.061-15.951-0.322\n    c-4.979,2.785-8.071,8.059-8.071,13.762v214c0,5.693,3.083,10.963,8.046,13.752c2.353,1.32,5.024,2.02,7.725,2.02\n    c2.897,0,5.734-0.797,8.205-2.303l174.947-106.576c4.657-2.836,7.556-7.986,7.565-13.44\n    C378.332,243.258,375.452,238.096,370.805,235.242z"}})])},m=[],p={props:{bg:{type:String,default:"#FFF"},color:{type:String,default:"#000"},width:{type:Number,default:64},height:{type:Number,default:64}}},g=p,v=n("2877"),y=Object(v["a"])(g,d,m,!1,null,"4beb15ee",null),b=y.exports,w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{attrs:{x:"0px",y:"0px",width:t.width,height:t.height,viewBox:"0 0 496.158 496.158","xml:space":"preserve"}},[n("path",{staticStyle:{fill:"#999999"},style:{fill:t.bg},attrs:{d:"M496.158,248.085c0-137.021-111.07-248.082-248.076-248.082C111.07,0.002,0,111.062,0,248.085       c0,137.002,111.07,248.071,248.083,248.071C385.088,496.155,496.158,385.086,496.158,248.085z",id:"path2"}}),n("path",{staticStyle:{"fill-opacity":"1","stroke-width":"11.22167206","stroke-miterlimit":"4","stroke-dasharray":"none"},style:{fill:t.color1},attrs:{d:"m 247.1319,116.26667 c -13.40556,0 -109.39292,55.41975 -116.0957,67.0293 -6.70278,11.60956 -6.70278,122.44513 0,134.05469 6.70278,11.60955 102.69014,67.02734 116.0957,67.02734 0.22369,0 0.47332,-0.0165 0.74219,-0.0469 V 116.3155 c -0.26887,-0.0304 -0.5185,-0.0488 -0.74219,-0.0488 z"}}),n("path",{staticStyle:{"fill-opacity":"1","stroke-width":"9.63624096","stroke-miterlimit":"4","stroke-dasharray":"none"},style:{fill:t.color2},attrs:{d:"m 247.87409,116.3155 v 268.01563 c 15.84477,-1.7914 108.76063,-55.56463 115.35156,-66.98047 6.70278,-11.60956 6.70278,-122.44513 0,-134.05469 -6.59093,-11.41584 -99.50679,-65.18907 -115.35156,-66.98047 z"}}),n("path",{staticStyle:{"fill-opacity":"1","stroke-width":"8.78657627","stroke-miterlimit":"4","stroke-dasharray":"none"},style:{fill:t.color3},attrs:{d:"m 247.1319,116.26667 c -13.397,0 -109.26775,55.34787 -116.08007,67.00586 l 114.90234,70.14258 116.53906,-71.14258 C 351.46991,168.77426 260.18143,116.26667 247.1319,116.26667 Z"}})])},_=[],k={props:{bg:{type:String,default:"#FFF"},color1:{type:String,default:"#F07"},color2:{type:String,default:"#07F"},color3:{type:String,default:"#7F0"},width:{type:Number,default:64},height:{type:Number,default:64}}},O=k,C=Object(v["a"])(O,w,_,!1,null,"261ee77e",null),x=C.exports,j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"tags"},t._l(t.tags,(function(e){return n("li",{key:e,staticClass:"tag",style:{backgroundColor:t.bg,color:t.color}},[t._v(" "+t._s(e)+" ")])})),0)},L=[],T={props:{bg:{type:String},color:{type:String},tags:{type:Array,default:function(){return[]}}}},S=T,I=(n("6516"),Object(v["a"])(S,j,L,!1,null,"c32b3db4",null)),A=I.exports,E=function(t,e){while(e>0){var n=t%e;t=e,e=n}return t},$={components:{Play:b,Cube:x,TagsDisplay:A},props:{item:{type:Object},displayMode:{type:String,default:"text"}},data:function(){return{displayImage:!1,classData:[],itemStyle:{},showThumb:!1,isThumbLoaded:!1,w:1,h:1}},computed:{size:function(){return this.item.image?[this.item.image.width,this.item.image.height]:[3,1]},isVideo:function(){return this.item.types.indexOf("video")>-1},is3D:function(){return this.item.types.indexOf("3d")>-1},to:function(){return{name:this.$route.name,params:{itemID:this.item.id}}},colors:function(){var t=function(t,e){return Math.abs(t.r-e.r)+Math.abs(t.g-e.g)+Math.abs(t.b-e.b)},e=function(t){var e=Number("0x"+t.substring(1));return{hex:t,r:e>>16&255,g:e>>8&255,b:e>>0&255}},n=this.item.colors.map(e),i=["#FFFFFF","#000000","#555555","#AAAAAA"];while(n.length<4)n.push(e(i.shift()));var r=n.shift(),o=n.shift();n.sort((function(e,n){return t(r,e)-t(r,n)}));var a=n.pop();n.sort((function(e,n){return t(o,e)-t(o,n)}));var s=n.pop();return[r,a,o,s]}},created:function(){var t=this.size,e=6,n=1,i=1;t[0]>t[1]?(n=e,i=Math.round(n*t[1]/t[0])||1):(i=e,n=Math.round(i*t[0]/t[1])||1);var r=E(n,i);n/=r,i/=r,this.setSize(n,i),this.item.image&&"thumb"===this.displayMode&&this.$set(this.itemStyle,"background-color",this.item.colors&&this.item.colors[0]?this.item.colors[0]:"rgba(0,0,0,0)")},mounted:function(){this.item.image&&this.optimizeLoad()},methods:{optimizeLoad:function(){var t={root:null,rootMargin:"0px",threshold:[0,1]};this._observer=new IntersectionObserver(this.onInOut,t),this._observer.observe(this.$el)},onInOut:function(t){t[0].intersectionRatio>0?this.showThumb=!0:this.showThumb=!1},setSize:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=12,i=4,r=this.item.score*(n-i)+i,o=6,a=5;while(t*(a+1)*e*(a+1)<=r&&Math.max(t*a+1,e*a+1)<o)a++;while(Math.max(t*a,e*a)>o)a--;t*=a,e*=a,this.classData.push("w"+t,"h"+e)}}},D=$,M=(n("ee88"),Object(v["a"])(D,h,f,!1,null,"a53f84b8",null)),P=M.exports,N=n("06fa"),F=n("555f"),R={components:{Item:P,Loader:F["a"]},props:{filter:{type:Array,default:function(){return[]}}},data:function(){return{displayMode:"thumb",items:[],loading:!1}},watch:{filter:{immediate:!0,handler:function(t){var e=this;this.loading=!0,N["b"].getItems(t).then((function(t){e.displayMode="thumb",e.items=t})).catch(console.error).finally((function(){e.loading=!1}))}}},methods:{onItems:function(t){t.data,t.meta}}},U=R,B=(n("ca55"),Object(v["a"])(U,u,l,!1,null,"7ef3019c",null)),z=B.exports,q=n("3855"),G={components:{Items:z,Tags:q["a"]},data:function(){return{filter:[]}}},H=G,V=Object(v["a"])(H,s,c,!1,null,null,null),Z=V.exports,J=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Tags",{on:{change:function(e){return t.filter=e}}}),n("Items",{attrs:{filter:t.filter}})],1)},Y=[],K={components:{Items:z,Tags:q["a"]},data:function(){return{filter:[]}}},W=K,Q=Object(v["a"])(W,J,Y,!1,null,null,null),X=Q.exports,tt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.currentGroup?n("router-view",{attrs:{group:t.currentGroup}}):n("ul",t._l(t.groups,(function(t){return n("li",{key:t.id},[n("Group",{attrs:{group:t}})],1)})),0)],1)},et=[],nt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("router-link",{attrs:{to:{name:"group",params:{id:t.group.id}}}},[n("h1",[t._v(" "+t._s(t.group.title)+" ")]),n("p",[t._v(" "+t._s(t.group.description)+" ")])])},it=[],rt={components:{},props:{group:{type:Object}},created:function(){},methods:{}},ot=rt,at=Object(v["a"])(ot,nt,it,!1,null,"3b91989e",null),st=at.exports;function ct(t){return ht(t)||lt(t)||ut()}function ut(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function lt(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function ht(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}var ft={components:{Group:st},data:function(){return{groups:[]}},computed:{currentGroup:function(){var t=this.$route.params.id?+(""+this.$route.params.id).split("#")[0]:null;return t?this.groups.find((function(e){return e.id===t})):null}},created:function(){var t=this;N["b"].getGroups(this.onBoards).then((function(e){t.groups=e}))},methods:{onBoards:function(t){var e,n=t.data;t.meta;(e=this.groups).splice.apply(e,[0,this.groups.length].concat(ct(n)))}}},dt=ft,mt=Object(v["a"])(dt,tt,et,!1,null,"cc36972a",null),pt=mt.exports,gt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h2",[t._v(t._s(t.group.title))]),t.group.description?n("p",[t._v(t._s(t.group.description))]):t._e(),n("Tags",{attrs:{filter:t.filter},on:{change:function(e){return t.filter=e}}}),n("Items",{attrs:{filter:t.filter}})],1)},vt=[],yt={components:{Items:z,Tags:q["a"]},props:{group:{type:Object}},data:function(){return{filter:[],displayMode:"thumb",loading:!1}},watch:{"group.filter":{immediate:!0,handler:function(t){this.filter=t.split(",")}}}},bt=yt,wt=Object(v["a"])(bt,gt,vt,!1,null,"50e3895d",null),_t=wt.exports;i["a"].use(a["a"]);var kt=[{name:"home",path:"/",component:Z,meta:{auth:!1}},{name:"items",path:"/item/:itemID?",component:X,meta:{auth:!1}},{name:"groups",path:"/group",component:pt,meta:{auth:!1},children:[{name:"group",path:":id/:itemID?",component:_t}]},{name:"adminHome",path:"/admin",component:Z,meta:{auth:!0}},{name:"adminItems",path:"/admin/item",component:function(){return Promise.all([n.e("admin~import"),n.e("admin")]).then(n.bind(null,"43c9"))},meta:{auth:!0}},{name:"adminBoards",path:"/admin/group",component:pt,meta:{auth:!0}},{name:"adminImport",path:"/admin/import",component:function(){return Promise.all([n.e("admin~import"),n.e("import")]).then(n.bind(null,"08cf"))},meta:{auth:!0}}],Ot=new a["a"]({mode:"history",base:"/",routes:kt}),Ct=Ot,xt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",{attrs:{id:"app"}},[n("header",{staticClass:"header"},[n("router-link",{staticClass:"title black",attrs:{to:{name:"home"}}},[n("h1",[t._v("Inspire")])]),n("User",{attrs:{adminPage:t.authRequired}})],1),n("nav",{staticClass:"nav"},[n("router-link",{staticClass:"link",attrs:{to:{name:"items"}}},[t._v("Items")]),n("router-link",{staticClass:"link",attrs:{to:{name:"adminItems"}}},[t._v("Admin")]),n("router-link",{staticClass:"link",attrs:{to:{name:"groups"}}},[t._v("Groups")]),n("router-link",{staticClass:"link",attrs:{to:{name:"adminImport"}}},[t._v("Import")])],1),n("router-view"),n("ModalItem")],1)},jt=[],Lt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Modal",{attrs:{"is-open":t.$route.params.itemID},on:{close:function(e){return t.close()}}},[t.item?[t.edit?n("AdminItemForm",{attrs:{item:t.item,create:!1},on:{cancel:function(e){return t.close()}}}):n("ItemDetails",{attrs:{item:t.item}}),t.$store.getters.isLogged&&!t.edit?n("button",{on:{click:function(e){t.edit=!0}}},[t._v("Edit")]):t._e()]:n("Loader")],2)},Tt=[],St=n("714b"),It=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("article",{staticClass:"item"},[n("header",[n("h1",{staticClass:"title bold"},[n("div",{staticClass:"bg"}),n("span",[t._v(t._s(t.item.title))])]),t.item.description?n("p",{staticClass:"description"},[t._v(" "+t._s(t.item.description)+" ")]):t._e()]),n("Content",{attrs:{item:t.item}}),t.item.types.indexOf("image")>-1&&t.item.content?n("a",{attrs:{href:t.item.content,target:"_blank",rel:"noreferrer noopener nofollow"}},[t._v(t._s(t.item.content.replace(/http:\/\/|https:\/\//,"")))]):t._e(),n("footer",[n("TagsDisplay",{attrs:{tags:t.item.tags}}),n("time",{staticClass:"date"},[t._v(" "+t._s(t.date)+" ")])],1),n("span",{staticClass:"score"},[t._v(" "+t._s(t.item.score)+"/5 ")])],1)},At=[],Et=n("9d26"),$t={components:{Content:Et["a"],TagsDisplay:A},props:{item:{type:Object,required:!0}},computed:{date:function(){var t=new Date(this.item.date),e=new Date;if(t.toLocaleDateString()===e.toLocaleDateString())return t.toLocaleDateString("en-US",{hour12:!1}).substring(0,5);var n={day:"numeric",month:"short"};return t.getYear()!==(new Date).getYear()&&(n.year="numeric"),t.toLocaleDateString("en-US",n)}},created:function(){},mounted:function(){},methods:{}},Dt=$t,Mt=(n("151e"),Object(v["a"])(Dt,It,At,!1,null,"1da54e44",null)),Pt=Mt.exports,Nt={components:{Modal:St["a"],Loader:F["a"],ItemDetails:Pt,AdminItemForm:function(){return Promise.all([n.e("admin~import"),n.e("admin")]).then(n.bind(null,"fbeb"))}},data:function(){return{hash:"",edit:!1,item:null}},watch:{"$route.params":{immediate:!0,handler:function(t){var e=this,n=t.itemID;this.edit=!1,n?(this.loading=!0,N["b"].getItem(n).then((function(t){e.item=t})).catch(console.error).finally((function(){e.loading=!1}))):this.item=null}}},methods:{close:function(){this.$router.push({name:this.$route.name})},onHash:function(){var t=window.location.hash;this.hash=t.replace(/^#/,"")}}},Ft=Nt,Rt=(n("7e39"),Object(v["a"])(Ft,Lt,Tt,!1,null,"2df20118",null)),Ut=Rt.exports,Bt=function(){return Promise.all([n.e("admin~import"),n.e("admin")]).then(n.bind(null,"7088"))},zt={components:{User:Bt,ModalItem:Ut},data:function(){return{}},computed:{authRequired:function(){return this.$route.meta.auth}},created:function(){N["b"].onLogin.add(this.setLogged),N["b"].isLoggedIn()},destroyed:function(){N["b"].onLogin.remove(this.setLogged)},methods:{setLogged:function(t){console.log(t);var e=function(t){return{nick:t.firstName+" "+t.lastName,image:t.avatar}},n=t?e(t):null;this.$store.commit("user",n)}}},qt=zt,Gt=(n("0b87"),Object(v["a"])(qt,xt,jt,!1,null,"427206a9",null)),Ht=Gt.exports,Vt=n("9483");Object(Vt["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});n("db37");i["a"].config.productionTip=!1,new i["a"]({store:o,router:Ct,render:function(t){return t(Ht)}}).$mount("#app")},"577d":function(t,e,n){"use strict";var i=n("63c4"),r=n.n(i);r.a},"58b7":function(t,e,n){"use strict";function i(t){return a(t)||o(t)||r()}function r(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function o(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function a(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function u(t,e,n){return e&&c(t.prototype,e),n&&c(t,n),t}n.d(e,"a",(function(){return f}));var l=function(t){return{id:t.id,name:t.filename_download,width:t.width,height:t.height,src:"/api"+t.data.url,srcSet:t.data.thumbnails.filter((function(t){return t.width>300||t.height>300})).map((function(t){return"/api"+t.relative_url+" "+t.width+"w"})).join(", "),alt:t.description||t.title}},h=function(t){return{id:t.id,name:t.filename_download,width:t.width,height:t.height,src:"/api"+t.data.url,type:t.type}},f=function(){function t(){s(this,t),this.fromPayload(),this._disposeList=[]}return u(t,[{key:"dispose",value:function(){this._disposeList.forEach((function(t){return t()})),this._disposeList=[],this.fromPayload()}},{key:"fromPayload",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.id=t.id||"",this.status=t.status||"draft",this.title=t.title||"",this.description=t.description||"",this.types=t.types||[],this.tags=t.tags||[],this.colors=t.colors||[],this.colorsRound=t.colors_round||[],this.content=t.content||"",this.input=t.input||"",this.date=new Date(t.date||Date.now()),this.file=t.file?h(t.file):null,this.score=t.score||0,this.image=t.image?l(t.image):null,this.author=null,this}},{key:"getPayload",value:function(){var t={id:this.id,status:this.status,title:this.title,description:this.description,types:i(this.types),tags:i(this.tags),colors:i(this.colors),colors_round:i(this.colorsRound),input:this.input,content:this.content,file:this.file,image:this.image,score:this.score||0,date:this.date.toISOString().replace(/\.[0-9]{3}[A-Z]$/,"").replace(/T/," "),created_by:this.author};return Object.keys(t).forEach((function(e){(null===t[e]||Array.isArray(t[e])&&t[e].length<1)&&delete t[e]})),t}},{key:"fromObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.id=t.id,this.status=t.status,this.title=t.title,this.description=t.description,this.types=i(t.types),this.tags=i(t.tags),this.colors=i(t.colors),this.colorsRound=i(t.colorsRound),this.input=t.input,this.content=t.content,this.file=t.file,this.image=t.image,this.score=t.score,this.date=t.date?new Date(t.date):null,this.author=t.author,this}},{key:"getObject",value:function(){var t=this.image,e=this.file;if(t instanceof File){var n=URL.createObjectURL(t);this._disposeList.push((function(){return URL.revokeObjectURL(n)})),t={src:n}}if(e instanceof File){var r=URL.createObjectURL(e);this._disposeList.push((function(){return URL.revokeObjectURL(r)})),e={src:r}}return{id:this.id,status:this.status,title:this.title,description:this.description,types:i(this.types),tags:i(this.tags),colors:i(this.colors),colorsRound:i(this.colorsRound),input:this.input,content:this.content,file:e,image:t,score:this.score,date:this.date.toISOString().replace(/:[0-9]{2}\.[0-9]{3}[A-Z]$/,""),author:this.author}}}]),t}()},"63c4":function(t,e,n){},6516:function(t,e,n){"use strict";var i=n("70c1"),r=n.n(i);r.a},"70c1":function(t,e,n){},"714b":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isOpen?n("div",{staticClass:"modal"},[n("div",{staticClass:"container"},[n("div",{staticClass:"bg",on:{click:t.close}}),n("div",{staticClass:"box"},[t._t("default")],2)])]):t._e()},r=[],o={components:{},props:{isOpen:{type:Boolean,default:!1}},created:function(){window.addEventListener("keyup",this.keyUp)},destroyed:function(){window.removeEventListener("keyup",this.keyUp)},methods:{close:function(){this.$emit("close")},keyUp:function(t){27===t.keyCode&&this.close()}}},a=o,s=(n("56b4"),n("2877")),c=Object(s["a"])(a,i,r,!1,null,"32ef68f8",null);e["a"]=c.exports},"7e39":function(t,e,n){"use strict";var i=n("9f96"),r=n.n(i);r.a},"9d26":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content",class:["is-"+t.mainType,""!==t.invRatio?"has-ratio":""]},[t.invRatio?n("div",{staticClass:"dummy",style:{paddingTop:t.invRatio}}):t._e(),"image"===t.mainType?n("img",{staticClass:"image",attrs:{src:t.item.image.src,srcset:t.item.image.srcset,width:t.item.image.width,height:t.item.image.height,alt:t.item.image.alt}}):"video"===t.mainType?n("video",{staticClass:"video",attrs:{controls:""}},[n("source",{attrs:{src:t.item.file.src,type:t.item.file.type}})]):n("div",{staticClass:"data",domProps:{innerHTML:t._s(t.html)}},[t._v(" (Content here) ")])])},r=[],o={props:{item:{type:Object}},computed:{mainType:function(){if(this.item.types){if(this.item.types.indexOf("embed")>-1)return"embed";if(this.item.types.indexOf("url")>-1)return"url";if(this.item.types.indexOf("video")>-1)return"video";if(this.item.types.indexOf("image")>-1)return"image"}return"text"},html:function(){return"embed"===this.mainType?this.item.content:"url"===this.mainType?'<a href="'+this.item.content+'" target="_blank" rel="noreferrer noopener nofollow">'+this.item.content.replace(/http:\/\/|https:\/\//,"")+"</a>":"text"===this.mainType?this.item.content:"type not know"},invRatio:function(){if("embed"===this.mainType){if(null!==this.item.content.trim().match(/<iframe(.+)<\/iframe>/g)){var t=/<iframe[^>]+width=["']?(\d+%?)/gi,e=/<iframe[^>]+height=["']?(\d+%?)/gi,n=t.exec(this.item.content),i=e.exec(this.item.content),r=n&&n.length>1&&n[1]||640,o=i&&i.length>1&&i[1]||360;if(r&&o)return 100*o/r+"%"}return"56.25%"}return""}}},a=o,s=(n("0841"),n("2877")),c=Object(s["a"])(a,i,r,!1,null,"5f5a3e34",null);e["a"]=c.exports},"9f96":function(t,e,n){},a38b:function(t,e,n){"use strict";var i=n("a55c"),r=n.n(i);r.a},a4ab:function(t,e,n){},a55c:function(t,e,n){},ca55:function(t,e,n){"use strict";var i=n("2e9b"),r=n.n(i);r.a},db37:function(t,e,n){},e87b:function(t,e,n){},ee88:function(t,e,n){"use strict";var i=n("2587"),r=n.n(i);r.a},fbdb:function(t,e,n){}});
//# sourceMappingURL=app.d9ee41f6.js.map